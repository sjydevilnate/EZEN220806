<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport"
      content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible"
      content="ie=edge" />
    <title>ToDo Project</title>

    <!-- CSS import -->
    <link rel="stylesheet"
      href="../css/reset.css" />

  </head>
  <body>

    <div style="margin-top: 40px;">
      <a href="#"
        onClick="window.open('../../ES2015문법/ap01.docs/npm사용법.html','npm사용법','width=800,height=400,toolbar=no,menubar=no,scrollbars=no,resizable=yes');return false;"
        rel="nofollow">npm 사용법</a>
    </div>

    <xmp>
    React CRA 을 사용하여 ToDo 어플리케이션을 만들어 본다.



    ##################################
    1. 작업 개요
    ##################################


    ##################################
    2. 프로젝트 생성 작업
       소요시간: 20분
    ##################################
    "rt30.create-react-project.html"을 참조하여 프로젝트를 만들거나
    기존에 만들어진 reactprj01 프로젝트에 추가하시오.


    ##################################
    3. 서버 시작
    ##################################
        $ ls                # package.json 파일 과 node_modules 폴더가 보이는지 확인
        $ npm install       # package.json 에 등록된 라이브러리(모듈) 재설치. node_modules 폴더가 생성됨
        $ npm run start     # package.json 보이면 서버 실행




    ##################################
    13. 라우팅 설정
      1. BrowserRouter 추가
      2. 라우팅 설정
      3. 링크(메뉴) 설정
      4. 스타일링 설정
    ##################################

    13-1. 라우팅 관련 폴더 및 파일 생성
        $ mkdir -p ./src/pages
        $ touch ./src/pages/PageHome.js

        $ mkdir -p ./src/containers/home
        $ touch ./src/containers/home/HomeContainer.js


    13-2. BrowserRouter 추가
        작업파일: src/index.js 수정

        변경 전
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(
            <React.StrictMode>
                <App />
            </React.StrictMode>
        );


        변경 후
        import { BrowserRouter } from 'react-router-dom';

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(
            <React.StrictMode>
                <BrowserRouter>
                    <App />
                </BrowserRouter>
            </React.StrictMode>
        );

    13-3. 라우팅 설정
        작업파일: src/App.js 수정
        import PageHome from './pages/PageHome';

        function App() {
            return (
                <div>
                    <PageHome />
                </div>
            );
        }

    13-4. 실행 화면 확인하고 개발자 모드에서 오류 확인
        ==> 빈 화면이 나오면 정상.

    13-5. HomeContainer 컴포넌트 파일 생성
        $ mkdir -p ./src/containers/home
        $ touch src/containers/home/HomeContainer.js

    13-6. 라우팅 폴더 및 PageHome 컴포넌트 만들기
        $ mkdir -p ./src/pages
        $ touch src/pages/PageHome.js

    13-7. PageHome 에 라우팅 설정
        작업파일: src/pages/PageHome.js

        import { Routes, Route, NavLink } from 'react-router-dom';

        import HomeContainer from '../containers/home/HomeContainer';
        import CompStyle from '../containers/styled/CompStyle';
        import SideBar from '../containers/todo/SideBar';

        <div>
            <Routes>
                <Route path="/" element={<HomeContainer />} />
                <Route path="/styled" element={<CompStyle />} />
                <Route path="/todo" element={<SideBar />} />
            </Routes>
        </div>

    13-8. PageHome 에 링크 설정
        작업파일: src/pages/PageHome.js

        변경 전
        <div>
            <Routes>
                <Route path="/" element={<HomeContainer />} />
                <Route path="/styled" element={<CompStyle />} />
                <Route path="/todo" element={<SideBar />} />
            </Routes>
        </div>

        변경 후
        <div>
            <div>
                <ul>
                    <li><NavLink to="/">Home</NavLink></li>
                    <li><NavLink to="/styled">Styled</NavLink></li>
                    <li><NavLink className={({ isActive }) => (isActive ? 'active' : 'inactive')} to="/todo">Todo</NavLink></li>
                </ul>
            </div>

            <Routes>
                <Route path="/" element={<HomeContainer />} />
                <Route path="/styled" element={<CompStyle />} />
                <Route path="/todo" element={<SideBar />} />
            </Routes>
        </div>


    13-9. PageHome 에 스타일링 설정
        작업파일: src/pages/PageHome.js

        변경 전
        const StyledPageHome = styled.div`
          /* styled 설정. https://styled-components.com/docs/basics#adapting-based-on-props */

        `;

        변경 후
        const StyledPageHome = styled.div`
          /* styled 설정. https://styled-components.com/docs/basics#adapting-based-on-props */
          .active {
            background-color: aqua;
          }
          .inactive {
            background-color: none;
          }
        `;


    ##################################
    21. SideBar 컴포넌트 구현
    ##################################

    step 21-1. src/components/SideBar.js 파일 만들기
        $ touch src/components/SideBar.js

    step 21-2. src/components/SideBar.js 의 JSX 를 기능 완성
        "react-sidebar-on.html" 내용을 참고하여 SideBar.js 에 JSX를 만드시오

    step 21-3. JSX 수정
        . class 속성 ===> className
        . for 속성 ===> htmlFor
        . value 속성 ===> defaultValue

    step 21-4. 실행 화면 확인

    step 21-5. styled-components 를 이용하여 SideBar 컴포넌트 스타일링하기
        1차/style.css 파일의 css 코드를 StyledSideBar 에 추가한다.


    ##################################
    step 22. SideBar 에 공유 상태값 만들기
    ##################################

    step 22-1. SideBar 에 공유 상태값 isSidebar 만들기
    const [isSidebar, setIsSidebar] = useState(false);


    ##################################
    step 22. SideBar 에 상태값 바꾸는 핸들러 만들기
    ##################################
    step 23-01. SideBar 컴포넌트 핸들러 만든다.
      
      const handlerIsSidebar = (e) => {
        console.log(e.targer);
        debugger;
        setIsSidebar(!isSidebar);
      }
      
    step 23-02. react-icons 패키지 추가.
      https://www.npmjs.com/package/react-icons
      $ npm install react-icons
      
      
    step 23-02. SidebarData.js 만들기.
      $ mkdir -p src/constants
      $ touch src/constants/SidebarData.js
      $ cat src/constants/SidebarData.js
      
      import React from 'react';
      import * as FaIcons from 'react-icons/fa';
      import * as AiIcons from 'react-icons/ai';
      import * as IoIcons from 'react-icons/io';

      export const SidebarData = [
        {
          title: 'Home',
          path: '/',
          icon: <AiIcons.AiFillHome />,
          cName: 'nav-text',
        },
        {
          title: 'Reports',
          path: '/reports',
          icon: <IoIcons.IoIosPaper />,
          cName: 'nav-text',
        },
        {
          title: 'Products',
          path: '/products',
          icon: <FaIcons.FaCartPlus />,
          cName: 'nav-text',
        },
        {
          title: 'Team',
          path: '/team',
          icon: <IoIcons.IoMdPeople />,
          cName: 'nav-text',
        },
        {
          title: 'Messages',
          path: '/messages',
          icon: <FaIcons.FaEnvelopeOpenText />,
          cName: 'nav-text',
        },
        {
          title: 'Support',
          path: '/support',
          icon: <IoIcons.IoMdHelpCircle />,
          cName: 'nav-text',
        },
      ];

    step 23-03. SideBar JSX 를 수정한다.    
      <IconContext.Provider value={{ color: '#fff' }}>
        <div className="navbar">
          <Link to="#" className="menu-bars">
            <FaIcons.FaBars onClick={handlerIsSidebar} />
          </Link>
        </div>
        <nav className={isSidebar ? 'nav-menu active' : 'nav-menu'}>
          <ul className="nav-menu-items" onClick={handlerIsSidebar}>
            <li className="navbar-toggle">
              <Link to="#" className="menu-bars">
                <AiIcons.AiOutlineClose />
              </Link>
            </li>
            {SidebarData.map((item, index) => {
              return (
                <li key={index} className={item.cName}>
                  <Link to={item.path}>
                    {item.icon}
                    <span>{item.title}</span>
                  </Link>
                </li>
              );
            })}
          </ul>
        </nav>
      </IconContext.Provider>


    </xmp>

  </body>
</html>