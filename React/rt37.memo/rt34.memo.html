<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>React 라우팅</title>
    <link rel="stylesheet" href="../css/reset.css" />
</head>
<body>
    <div>
        <!-- Home 페이지 만들기 -->
        <li class="langjs">
            <h3 class="langjs">Home 페이지 만들기</h3>
            <ul>
                <li>메뉴 목록(좌측)과 메모 생성 버튼(우측)을 만든다.</li>
                <li>좌측에는 메뉴나 목록 컴포넌트를</li>
                <li>우측에는 메모 생성버튼이나 메모 내용 같은 컴포넌트를 위치시킨다.</li>
            </ul>

            <img src="./1차/memoprj-01.png" alt=""> <br><br>
            <pre class="langjs">
                <xmp class="langjs">
<div id="root">
    <div style="display: flex; flex: 1 1 0%; margin: 10px;">
        <aside style="width: 200px; border: 1px solid rgb(204, 204, 204); margin-right: 10px; border-radius: 4px;">
            <h1 style="padding: 0px 10px;">폴더</h1>
            <ul style="list-style: none; padding-left: 0px;">
                <li style="padding: 15px; border-bottom: 1px solid rgb(221, 221, 221); border-top: 1px solid rgb(221, 221, 221);">
                    <a href="/memo">메모</a>
                </li>
                <li style="padding: 15px; border-bottom: 1px solid rgb(221, 221, 221); border-top: none;">
                    <a href="/trash">휴지통</a>
                </li>
            </ul>
        </aside>
        <main style="flex: 1 1 0%; overflow: auto; border: 1px solid rgb(204, 204, 204); border-radius: 4px;">
            <div style="margin: 10px;">
                <a href="/memo/add" style="display: inline-block; border: 1px solid rgb(204, 204, 204); border-radius: 4px; margin: 0px 10px 10px 0px; padding: 8px 16px; width: auto; overflow: visible; background: transparent; color: inherit; text-decoration: none;">
                    새로운 메모
                </a>
            </div>
        </main>
    </div>
</div>
                </xmp>
            </pre>
            <br>
            <pre class="langjs">
                <xmp class="langjs">
<Layout>
    <Sidebar>
        // 사이드바: 메모장, 휴지통 링크를 위치한다
        <SidebarTitle>폴더</SidebarTitle>

        // 메뉴 목록
        <List>
            <ListItem>
                <Link to="/memo">메모</Link>
            </ListItem>
            <ListItem>
                <Link to="/trash">휴지통</Link>
            </ListItem>
        </List>
    </Sidebar>
    <Main>
        // 메인: 메모 생성 버튼을 위치한다
        <Link to="/memo/add">새로운 메모</Link>
    </Main>
</Layout>
                </xmp>
            </pre>
            <p class="langjs">
                <ul>
                    <li>src/pages/Home.js</li>
                    <li>src/components/Layout.js</li>
                    <li>src/components/List.js</li>
                    <li>src/components/ListItem.js</li>
                    <li>src/components/Main.js</li>
                    <li>src/components/Sidebar.js</li>
                    <li>src/components/SidebarTitle.js</li>
                </ul>
                <pre class="langjs">
                    <code class="langjs">
$ touch ./src/pages/Home.js \
        ./src/components/Layout.js \
        ./src/components/List.js \
        ./src/components/ListItem.js \
        ./src/components/Main.js \
        ./src/components/Sidebar.js \
        ./src/components/SidebarTitle.js
                    </code>
                </pre>
            </p>
        </li>
        <hr>

        <!-- Memo 페이지 만들기 -->
        <li class="langjs">
            <h3 class="langjs">Memo 페이지 만들기</h3>
            <p class="langjs">

            </p>
            <ul>

            </ul>
            <img src="./1차/memoprj-02.png" alt=""> <br><br>
            <pre class="langjs">
                <xmp class="langjs">
<div id="root">
    <div style="display: flex; flex: 1 1 0%; margin: 10px">
        <aside style=" width: 200px; border: 1px solid rgb(204, 204, 204); margin-right: 10px; border-radius: 4px;">
            <a href="/" style=" text-decoration: none; font-size: 24px; padding: 10px; display: block; ">&lt;</a>
            <h1 style="padding: 0px 10px">메모</h1>
            <ul style="list-style: none; padding-left: 0px">
                <li style=" padding: 15px; border-bottom: 1px solid rgb(221, 221, 221); border-top: 1px solid rgb(221, 221, 221); ">
                    <a href="/memo/2">두번째 메모입니다.</a>
                </li>
                <li style=" padding: 15px; border-bottom: 1px solid rgb(221, 221, 221); border-top: none; ">
                    <a href="/memo/1">첫번재 메모입니다.</a>
                </li>
            </ul>
        </aside>
        <main style=" flex: 1 1 0%; overflow: auto; border: 1px solid rgb(204, 204, 204); border-radius: 4px;">
            <div style="margin: 10px">
                <a href="/memo/add" style=" display: inline-block; border: 1px solid rgb(204, 204, 204); border-radius: 4px; margin: 0px 10px 10px 0px; padding: 8px 16px; width: auto; overflow: visible; background: transparent; color: inherit; text-decoration: none; ">
                    새로운 메모
                </a>
                <button style=" display: inline-block; border: 1px solid rgb(204, 204, 204); border-radius: 4px; margin: 0px 10px 10px 0px; padding: 8px 16px; width: auto; overflow: visible; background: transparent; color: inherit; ">
                    삭제
                </button>
                <div style="border-top: 1px solid rgb(221, 221, 221); padding-top: 10px">
                    <div style="margin-bottom: 15px">
                        <span style="color: rgb(170, 170, 170)">
                            2021. 9. 11. 오전 8:58:54
                        </span>
                    </div>
                    <div>
                        두번째 메모입니다.
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
                </xmp>
            </pre>
            <p class="langjs">
                <ul>
                    <li>src/pages/Memo.js</li>
                    <li>src/components/Layout.js</li>
                    <li>src/components/List.js</li>
                    <li>src/components/ListItem.js</li>
                    <li>src/components/Main.js</li>
                    <li>src/components/Sidebar.js</li>
                    <li>src/components/SidebarTitle.js</li>
                </ul>
                <pre class="langjs">
                    <code class="langjs">
$ touch ./src/pages/Home.js \
        ./src/components/Layout.js \
        ./src/components/List.js \
        ./src/components/ListItem.js \
        ./src/components/Main.js \
        ./src/components/Sidebar.js \
        ./src/components/SidebarTitle.js
                    </code>
                </pre>
            </p>
        </li>
        <hr>

        <li class="langjs">
            <h3 class="langjs">Trash 페이지 만들기</h3>
            <p class="langjs">

            </p>
            <ul>

            </ul>
            <img src="./1차/memoprj-05.png" alt=""> <br><br>
            <pre class="langjs">
                <xmp class="langjs">
<div style="display: flex; flex: 1 1 0%; margin: 10px;">
    <aside style="width: 200px; border: 1px solid rgb(204, 204, 204); margin-right: 10px; border-radius: 4px;"><a
            href="/" style="text-decoration: none; font-size: 24px; padding: 10px; display: block;">&lt;</a>
        <h1 style="padding: 0px 10px;">휴지통</h1>
        <ul style="list-style: none; padding-left: 0px;">
            <li
                style="padding: 15px; border-bottom: 1px solid rgb(221, 221, 221); border-top: 1px solid rgb(221, 221, 221);">
                <a href="/memo/3">세번째 메모입니다.</a></li>
        </ul>
    </aside>
    <main style="flex: 1 1 0%; overflow: auto; border: 1px solid rgb(204, 204, 204); border-radius: 4px;">
        <div style="margin: 10px;"><button
                style="display: inline-block; border: 1px solid rgb(204, 204, 204); border-radius: 4px; margin: 0px 10px 10px 0px; padding: 8px 16px; width: auto; overflow: visible; background: transparent; color: inherit;">복구</button>
            <div style="border-top: 1px solid rgb(221, 221, 221); padding-top: 10px;">
                <div style="margin-bottom: 15px;"><span style="color: rgb(170, 170, 170);">2021. 9. 11. 오전
                        7:02:10</span></div>
                <div>세번째 메모입니다.</div>
            </div>
        </div>
    </main>
</div>
                </xmp>
            </pre>
            <p class="langjs">
                <ul>
                    <li>src/pages/Home.js</li>
                    <li>src/components/Layout.js</li>
                    <li>src/components/List.js</li>
                    <li>src/components/ListItem.js</li>
                    <li>src/components/Main.js</li>
                    <li>src/components/Sidebar.js</li>
                    <li>src/components/SidebarTitle.js</li>
                </ul>
                <pre class="langjs">
                    <code class="langjs">
$ touch ./src/pages/Home.js \
        ./src/components/Layout.js \
        ./src/components/List.js \
        ./src/components/ListItem.js \
        ./src/components/Main.js \
        ./src/components/Sidebar.js \
        ./src/components/SidebarTitle.js
                    </code>
                </pre>
            </p>
        </li>
        <hr>

        <li class="langjs">
            <h3>라우팅 설정</h3>
            <p class="langjs">
                라우팅 설정 관련해서는
                <a href="https://reactrouter.com/web/guides/quick-start" target="_blank">https://reactrouter.com/web/guides/quick-start</a>
                사이트를 참조하세요.
            </p>
            <ol>
                <li>Home, Memo,  Trash 컴포넌트를 만든다</li>
                <li>App 컴포넌트를 만들다
                    <ol>
                        <li>라우팅 기능을 추가 한다. BrowserRouter, Switch, Route, Redirect 컴포넌트</li>
                        <li>메뉴 기능을 추가한다. Link, NavLink 컴포넌트 </li>
                    </ol>
                </li>
                <li>/ 요청으로 들어오면: Home 컴포넌트를 렌더링 한다</li>
                <li>
                    /memo 요청으로 들어오면: Memo 컴포넌트를 렌더링 한다
                    <p>메모장 화면에서는 보유한 메모 목록을 보여준다</p>
                </li>
                <li>
                    /trash 요청으로 들어오면: Trash 컴포넌트를 렌더링 한다
                    <p>삭제한 메모는 휴지통 화면에서 확인할 수 있다</p>
                </li>
                <li>위 세 개 규칙을 벗어나면: 루트(/) 요청으로 리다이렉션 한다</li>
                <li>/memo 요청이 들어오면: 좌측에 메모 목록을 보여준다</li>
                <li>/memo/* 요청이 들어오면: 우측에 뭔가를 표시한다</li>
                <li>/memo/add 요청시: AddMemo 컴포넌트를 렌더링 한다</li>
                <li>/memo/:id 요청시: Memo 컴포넌트를 렌더링 한다</li>
                <li>/ 요청시: '메모가 없습니다'를 렌더링 한다</li>
            </ol>
            <pre class="langjs">
                <xmp class="langjs">
# src/routes/RouterHome.js
<BrowserRouter>
    <Switch>
        <Route path="/" exact component={Home} />
        <Route path="/memo" component={Memo} />
        <Route path="/trash" component={Trash} />
        <Redirect path="*" to="/" />
    </Switch>
</BrowserRouter>


# src/routes/RouterMemo.js
<Switch>
    <Route path={`${match.url}/add`} exact component={AddMemo} />
    <Route path={`${match.url}/:id`} exact component={Memo} />
    <Route path={`${match.url}/`} exact component={() => <div>메모가 없습니다. 새로운 메모를 만들어 보세요.</div>} />
</Switch>


# src/routes/RouterTrash.js
<Switch>
    <Route path={`${match.url}/:id`} exact component={RemovedMemo} />
    <Route path={`${match.url}/`} exact component={() => <div>휴지통이 비었습니다.</div>} />
</Switch>
                </xmp>
            </pre>

            <p class="langjs">
                <ul>
                    <li>src/routes/RouterHome.js</li>
                    <li>src/routes/RouterMemo.js</li>
                    <li>src/routes/RouterTrash.js</li>
                </ul>
                <pre class="langjs">
                    <code class="langjs">
$ touch ./src/routes/RouterHome.js \
        ./src/routes/RouterMemo.js \
        ./src/routes/RouterTrash.js
                    </code>
                </pre>
            </p>
        </li>
        <hr>


        <li class="langjs">
            <h3 class="langjs"> 도전. Memo 수정 페이지 만들기</h3>
            <p class="langjs">

            </p>
            <img src="./1차/memoprj-03.png" alt=""> <br><br>
            <ul>

            </ul>
            <pre class="langjs">
                <xmp class="langjs">
<div style="display: flex; flex: 1 1 0%; margin: 10px;">
    <aside style="width: 200px; border: 1px solid rgb(204, 204, 204); margin-right: 10px; border-radius: 4px;"><a
            href="/" style="text-decoration: none; font-size: 24px; padding: 10px; display: block;">&lt;</a>
        <h1 style="padding: 0px 10px;">메모</h1>
        <ul style="list-style: none; padding-left: 0px;">
            <li
                style="padding: 15px; border-bottom: 1px solid rgb(221, 221, 221); border-top: 1px solid rgb(221, 221, 221);">
                <a href="/memo/2">두번째 메모입니다.</a></li>
            <li style="padding: 15px; border-bottom: 1px solid rgb(221, 221, 221); border-top: none;"><a
                    href="/memo/1">첫번재 메모입니다.</a></li>
        </ul>
    </aside>
    <main style="flex: 1 1 0%; overflow: auto; border: 1px solid rgb(204, 204, 204); border-radius: 4px;">
        <div style="margin: 10px;">
            <form><textarea placeholder="여기에 메모를 입력하세요"
                    style="width: 97%; height: 100px; border-radius: 4px; border: 1px solid rgb(204, 204, 204); padding: 10px;"></textarea>
            </form><a href="/memo"
                style="display: inline-block; border: 1px solid rgb(204, 204, 204); border-radius: 4px; margin: 0px 10px 10px 0px; padding: 8px 16px; width: auto; overflow: visible; background: transparent; color: inherit; text-decoration: none;">취소</a><button
                style="display: inline-block; border: 1px solid rgb(204, 204, 204); border-radius: 4px; margin: 0px 10px 10px 0px; padding: 8px 16px; width: auto; overflow: visible; background: transparent; color: inherit;">저장</button>
        </div>
    </main>
</div>
                </xmp>
            </pre>
        </li>
        <hr>

    </div>
    <div>
        <h3>참고 사이트</h3>
        <p>
            <li>https://jeonghwan-kim.github.io/dev/2019/07/08/react-router-ts.html</li>
            <li>https://github.com/jeonghwan-kim/study-react-ts/tree/master/router</li>
            <li>https://reactrouter.com/web/guides/quick-start</li>
        </p>
    </div>
    <hr>


    <xmp>
    React CLI 을 사용하여 memoprj01 어플리케이션을 만들어 본다.



    ##################################
    1. 프로젝트 생성 작업
    ##################################
    


    ##################################
    10. 기능 설명
    ##################################



    ##################################
    11. 프로젝트 초기 설정
    ##################################

    11-1. 디렉토리 생성
    $ mkdir -p ./src/assets \
               ./src/assets/images \
               ./src/assets/styles \
               ./src/assets/text \
               ./src/common \
               ./src/components \
               ./src/containers \
               ./src/constant \
               ./src/models \
               ./src/pages \
               ./src/routes \
               ./src/utils


    ##################################
    12. 프로젝트에 컴포넌트 추가
    ##################################
    12-1. logo.svg 파일 삭제
        $ rm ./src/logo.svg

    12-2. App.css 수정
        기존에 있던 파일 내용을 지우고 아래의 css를 추가한다.

    12-3. src/store/index.js 수정
        const store = {
            memo: [
                { id: 2, content: '두번째 메모입니다.', createdAt: Date.now() },
                { id: 1, content: '첫번재 메모입니다.', createdAt: Date.now() - 1 },
            ],
        };
        export default store;


    12-4. 프로젝트 페이지 파일 생성
        $ touch ./src/pages/Home.js \
                ./src/pages/Memo.js \
                ./src/pages/Trash.js

    12-5. App.js 수정
        import './App.css';
        import {BrowserRouter, Switch, Route, Redirect} from 'react-router-dom';
        import Home from "./pages/Home";

        function App(props) {
            // JSX로 화면 만들기
            return (
              <BrowserRouter>
                <Switch>
                  <Route path="/" exact component={Home} />
                  <Redirect path="*" to="/" />
                </Switch>
              </BrowserRouter>
            )
        }
        export default App;

    13. Home 관련 페이지, 컴포넌트 작성
        13-1. src/pages/Home.js

        13-2. src/components/Layout.js
            <div style="display: flex; flex: 1 1 0%; margin: 10px;">
                {props.children}
            </div>

        13-3 src/components/Sidebar.js
            <aside style="width: 200px; border: 1px solid rgb(204, 204, 204); margin-right: 10px; border-radius: 4px;">
                {props.children}
            </aside>

        13-4. src/components/SidebarTitle.js
            <h1 style="padding: 0px 10px;">
                {props.children}
            </h1>

        13-5. src/components/List.js
            <ul style="list-style: none; padding-left: 0px;">
                {props.children}
            </ul>

        13-6. src/components/ListItem.js
            <li style="padding: 15px; border-bottom: 1px solid rgb(221, 221, 221); border-top: none;">
                {props.children}
            </li>

        13-7. src/components/Main.js
            <main style="flex: 1 1 0%; overflow: auto; border: 1px solid rgb(204, 204, 204); border-radius: 4px;">
                {props.children}
            </main>


   14. Memo 관련 페이지, 컴포넌트 작성
       14-1. App.js 수정
            import './App.css';
            import {BrowserRouter, Switch, Route, Redirect} from 'react-router-dom';
            import Home from "./pages/Home";
            import Memo from "./pages/Memo";
            import store from "./store";

            function App(props) {
                // JSX로 화면 만들기
                return (
                  <BrowserRouter>
                    <Routes>
                      <Route path="/" element={<Home />} />
                      <Route path="/memo" element={() => <Memo store={store} />} />
                      <Redirect path="*" to="/" />
                    </Routes>
                  </BrowserRouter>
                )
            }
            export default App;

       14-2. src/pages/Memo.js

    </xmp>

</body>
</html>