<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Vue를 이용한 파일 합치기</title>

    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">

    <!-- CSS import -->
    <link rel="stylesheet" href="../css/reset.css">
</head>

<body>
    <div style="margin: 40px 0 0 40px;">
        <a href="#" onClick="window.open('../../ES2015문법/ap01.docs/npm사용법.html','npm사용법','width=800,height=400,toolbar=no,menubar=no,scrollbars=no,resizable=yes');return false;" rel="nofollow">npm 사용법</a>
    </div>
    <xmp>
        CRA(create-react-app) 를 사용해서 리액트 프로젝트를 만들고
        start-rating.html 에서 작성한 컴포넌트를 프로젝트에 적용하여 본다.
        * CRA 는 create react app 의 약자.

        # 프로젝트 생성
        $ npx create-react-app starprj01

        # 폴더 이동
        $ cd starprj01


        # package.json 파일이 있는지 확인
        $ ls


        # prop-types 설치(필수)
        # prop-types는 컴포넌트 속성값, props 의 타입을 정의할 때 사용되는 라이브러리.
        $ npm install --save prop-types


        # styled-component
        # styled-components 는 CSS 표기법을 사용하여 인라인 스타일링을 만들 수 있게 해주는 라이브러리.
        $ npm install --save styled-components


        # package.json 파일이 있는지 확인
        $ ls


        # 리액트 프로젝트 서버 실행하기
        $ npm run start


        # App.test.js 삭제


        # src/App.css 수정. style.css 파일의 css 내용을 App.css 에 복사하여 붙여넣기.
        $ cp ../style.css ./src/App.css


        # src/App.js 수정
            import 설정
                import RatingContaier from "./RatingContaier"; 추가

            App 의 JSX를 변경한다.
                <div>
                    <h2>App</h2>
                    <RatingContaier />
                </div>


        # RatingContaier 컴포넌트
            RatingContaier.js 파일 생성
                $ touch src/RatingContaier.js

            RatingContaier 컴포넌트 만들기

            import 설정
                import ColorList from "./ColorList";

            RatingContaier 의 JSX 추가.


        # ColorList 컴포넌트
            ColorList.js 파일 생성
                $ touch src/ColorList.js

            ColorList 컴포넌트 만들기

            import 설정
                import Color from "./Color";

            ColorList 의 JSX 추가.


        # Color 컴포넌트
            Color.js 파일 생성
                $ touch src/Color.js

            Color 컴포넌트 만들기

            import 설정
                import StarRating from "./StarRating";

            Color 의 JSX 추가.


        # StarRating 컴포넌트
            StarRating.js 파일 생성
                $ touch src/StarRating.js

            StarRating 컴포넌트 만들기

            import 설정
                import Star from "./Star";

            StarRating 의 JSX 추가.


        # Star 컴포넌트
            Star.js 파일 생성
                $ touch src/Star.js

            Star 컴포넌트 만들기

            Star 의 JSX 추가.


        # Star 컴포넌트의 JSX 추가.
            <div className={(selected) ? "star selected" : "star"}
                onClick={onClick}>
            </div>


        # StarRating 컴포넌트의 JSX 추가.
            <div className="star-rating">
                {[1,2,3,4,5].map((n, i) =>{
                    return (
                    <Star key={i}
                        selected={i<starsSelected}
                        onClick={()=>handlerClick(i)}/>
                    );
                }
                )}
                <p>별점: {starsSelected} / {totalStars}</p>
            </div>


        # Color 컴포넌트의 JSX 추가.
            <section className="color">
                <h1>{title}</h1>
                <button onClick={()=>(handlerRemove(id))}>X</button>
                <div className="color" style={{ backgroundColor: color }}> </div>
                <div>
                    <StarRating starsSelected={rating} onRate={handlerRate}/>
                </div>
            </section>


        # ColorList 컴포넌트의 JSX 추가.
            <div>
                <div className="color-list">
                {colors.map( (item) => (
                    <Color
                        key={item.id}
                        {...item}
                        onRemove={onRemoveColor}
                        onRate={onRateColor}>
                    </Color>
                    ))}
                </div>
            </div>


        # RatingContaier 컴포넌트의 JSX 추가.
            <div className="app">
                <h2>RatingContaier</h2>
                <ColorList colors={colors} onRateColor={callbackRateColor} onRemoveColor={callbackRemoveColor}></ColorList>
            </div>
    </xmp>

</body>

</html>